<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF8">


<!--Import materialize.css-->
<link type="text/css" rel="stylesheet" href="https://cdn.datatables.net/1.13.1/css/dataTables.bootstrap4.min.css" />



<title>Pagamentos</title>

<head th:replace="fragments :: html_head"/>

<body>

	<div th:replace="fragments :: menu"/>

	<br>
	  <nav class="grey darken-1" style="margin:auto; padding:auto; max-width: 98%">
	 
		 <div class="row">
		  <div style="text-align:left"  class="col s6">
		   <h5 class="white-text">Pagamentos</h5>
		  
		  </div>
		   <div style="text-align:right"  class="col s6">
			 <a  href="/cadastropagamento" class="waves-effect waves-light btn grey darken-1">Adicionar</a>
		   </div>
		</div>
		
	  </nav>
  
  <div class="row grey lighten-2" style="margin:auto; padding:auto; max-width: 98%">
  
  <form action="pesquisarpagamento" method="post">

  <div class="row">
  
  <div class="input-field col s6">
	 <input name="dataInicio" id="datapesquisa" type="date" >
	 <label for="datapesquisaInicio" class="active">Datas Inicio </label>
  </div>
  <div class="input-field col s6">
	 <input name="dataFinal" id="datapesquisa" type="date" >
	 <label for="datapesquisaFim" class="active">Datas Final </label>
  </div>
  <div class="col s12"> 
     <input class="waves-effect waves-light btn grey darken-1" 
            type="submit" onclick="M.toast({html: 'Pesquisando pagamento EspecÃ­fica',classes: 'blue rounded'})" value="Buscar">
  </div>
  </div>
 </form>
  </div>
           
<div class="card" style="margin: 20px auto; padding:20px; max-width: 98%">
<table id="tabFilterOrderId" class="table table-striped" style="width:100%">
   <thead>
     <tr>
        <th style="max-width: 3%">Id</th>
        <th  style="max-width: 20%">Tipo</th>
	    <th style="max-width: 5%">Data</th>
		<th >Fornecedor</th>
	    <th  style="max-width: 5%">Moeda</th>
	    <th  style="max-width: 5%">Origem</th>
		<th style="max-width: 5%" >Valor</th>
	    <th  style="max-width: 3%">Anexo</th> 
	    <th style="max-width: 3%">Excluir</th>
	 </tr>
    </thead>	
	<tbody>
	  <tr th:each = "pagamento : ${pagamentos}">
	   <td>
	   <a onclick="M.toast({html: 'Editando pagamento',classes: 'blue rounded'})" th:href="@{/editarpagamento/{idpagamento}(idpagamento=${pagamento.id})}" th:text="${pagamento.id}"></a>
	   </td>
	   <td>
	   <a onclick="M.toast({html: 'Editando pagamento',classes: 'blue rounded'})" th:href="@{/editarpagamento/{idpagamento}(idpagamento=${pagamento.id})}" th:text="${pagamento.tipo}"></a>
	   </td>
	   <td>
	    <a onclick="M.toast({html: 'Editando pagamento',classes: 'blue rounded'})" th:href="@{/editarpagamento/{idpagamento}(idpagamento=${pagamento.id})}" th:text="${#dates.format(pagamento.data, 'dd/MM/yyyy')}"></a>
	   </td>
	   <td>
		<a onclick="M.toast({html: 'Editando pagamento',classes: 'blue rounded'})" th:href="@{/editarpagamento/{idpagamento}(idpagamento=${pagamento.id})}" th:text="${#strings.abbreviate(pagamento.fornecedor,50)}"></a>
	 </td>
	   <td>
	   <a onclick="M.toast({html: 'Editando pagamento',classes: 'blue rounded'})" th:href="@{/editarpagamento/{idpagamento}(idpagamento=${pagamento.id})}" th:text="${pagamento.moeda}"></a>
	   </td>
	   <td>
	   <a onclick="M.toast({html: 'Editando pagamento',classes: 'blue rounded'})" th:href="@{/editarpagamento/{idpagamento}(idpagamento=${pagamento.id})}" th:text="${pagamento.origem}"></a>
	   </td>
	   <td>
		<a onclick="M.toast({html: 'Editando pagamento',classes: 'blue rounded'})" th:href="@{/editarpagamento/{idpagamento}(idpagamento=${pagamento.id})}" th:text="${#strings.replace(#numbers.formatCurrency(pagamento.valor), '.00,00', '')}"></a>
		</td>
        <td><a th:if="${pagamento.anexo !=null}"  th:href="@{/baixarArquivoPagamento/{idpagamento}(idpagamento=${pagamento.id})}" ><i class="material-icons">cloud_download</i></a> </td> 
	   <td> <a onclick="M.toast({html: 'Deletando pagamento',classes: 'red rounded'})" th:href="@{/removerpagamento/{idpagamento}(idpagamento=${pagamento.id})}"><i class="material-icons">delete_forever</i></a></td>
	  </tr>
	 </tbody>
	 
</table>

 </div>  
  
<div th:replace="fragments :: footerScript"/>

</body>

</html>